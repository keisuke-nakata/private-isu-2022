
# 7.3s user time, 30ms system time, 30.74M rss, 37.75M vsz
# Current date: Fri Jul  8 01:36:43 2022
# Hostname: ip-172-31-43-134
# Files: /var/log/mysql/mysql-slow.log
# Overall: 57.22k total, 26 unique, 762.96 QPS, 6.46x concurrency ________
# Time range: 2022-07-07T16:35:16 to 2022-07-07T16:36:31
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           485s     3us      2s     8ms     6ms    87ms   366us
# Lock time          797ms       0     9ms    13us     4us   137us     3us
# Rows sent        267.56k       0   9.76k    4.79    9.83  138.32    0.99
# Rows examine       4.56M       0  10.61k   83.60   21.45  865.76    5.75
# Query size        12.28M      10     453  225.05  400.73  168.66   97.36

# Profile
# Rank Query ID                      Response time  Calls R/Call V/M   Ite
# ==== ============================= ============== ===== ====== ===== ===
#    1 0x950C46DB6E4968E364E3DC83... 399.8977 82.5%   380 1.0524  0.08 SELECT posts users
#    2 0x58CDBEF53804905081DDA03B...  40.3518  8.3% 23453 0.0017  0.01 SELECT comments users
#    3 0x19759A5557089FD5B718D440...  13.6225  2.8%  5222 0.0026  0.00 SELECT posts
#    4 0x422390B42D4DD86C7539A5F4...  11.0078  2.3% 21031 0.0005  0.00 SELECT comments
# MISC 0xMISC                         19.9780  4.1%  7136 0.0028   0.0 <22 ITEMS>

# Query 1: 5.94 QPS, 6.25x concurrency, ID 0x950C46DB6E4968E364E3DC832B2860E0 at byte 21167962
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.08
# Time range: 2022-07-07T16:35:20 to 2022-07-07T16:36:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     380
# Exec time     82    400s    40ms      2s      1s      1s   297ms      1s
# Lock time      0     5ms     2us     1ms    11us     4us    82us     3us
# Rows sent      2   7.42k      20      20      20      20       0      20
# Rows examine  86   3.93M  10.56k  10.61k  10.58k  10.29k       0  10.29k
# Query size     1 168.11k     453     453     453     453       0     453
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ##
# 100ms  ############################################
#    1s  ################################################################
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `posts`.`id`, `posts`.`user_id`, `posts`.`body`, `posts`.`mime`, `posts`.`created_at`, `users`.`id` AS user_user_id, `users`.`account_name` AS user_account_name, `users`.`passhash` AS user_passhash, `users`.`authority` AS user_authority, `users`.`del_flg` AS user_del_flg, `users`.`created_at` AS user_created_at FROM `posts` JOIN `users` ON `posts`.`user_id` = `users`.`id` WHERE `users`.`del_flg` = 0 ORDER BY `posts`.`created_at` DESC LIMIT 20\G

# Query 2: 366.45 QPS, 0.63x concurrency, ID 0x58CDBEF53804905081DDA03BEE24EFEE at byte 21395527
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-07T16:35:20 to 2022-07-07T16:36:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         40   23453
# Exec time      8     40s   162us    49ms     2ms     7ms     3ms   541us
# Lock time     41   330ms     2us     7ms    14us     4us   133us     3us
# Rows sent     25  68.55k       0       3    2.99    2.90    0.12    2.90
# Rows examine   2 137.09k       0       6    5.99    5.75    0.23    5.75
# Query size    73   8.97M     398     402  400.85  400.73       2  400.73
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ##################################
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT c.id AS id, c.post_id AS post_id, c.user_id AS user_id, c.comment AS comment, c.created_at AS created_at, u.id AS user_user_id, u.account_name AS user_account_name, u.passhash AS user_passhash, u.authority AS user_authority, u.del_flg AS user_del_flg, u.created_at AS user_created_at FROM `comments` c JOIN `users` u ON c.user_id = u.id WHERE c.post_id = 839 ORDER BY c.created_at DESC LIMIT 3\G

# Query 3: 73.55 QPS, 0.19x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 21933664
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:35:20 to 2022-07-07T16:36:31
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          9    5222
# Exec time      2     14s   121us    67ms     3ms     9ms     4ms     1ms
# Lock time      8    65ms     2us     4ms    12us     4us   125us     3us
# Rows sent      1   5.10k       1       1       1       1       0       1
# Rows examine   0   5.10k       1       1       1       1       0       1
# Query size     1 198.43k      36      40   38.91   38.53    0.51   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ###################################################
#   1ms  ################################################################
#  10ms  ####
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 8266\G

# Query 4: 328.61 QPS, 0.17x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 2793958
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:35:20 to 2022-07-07T16:36:24
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         36   21031
# Exec time      2     11s   104us    24ms   523us     2ms   935us   194us
# Lock time     39   314ms     2us     9ms    14us     4us   156us     3us
# Rows sent      7  20.54k       1       1       1       1       0       1
# Rows examine   4 204.41k       0      23    9.95   14.52    3.09    9.83
# Query size    10   1.30M      62      66   64.85   62.76    0.15   62.76
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 8771\G
