
# 9.9s user time, 70ms system time, 30.74M rss, 37.73M vsz
# Current date: Sun Jul 10 03:19:16 2022
# Hostname: ip-172-31-43-134
# Files: /var/log/mysql/mysql-slow.log
# Overall: 82.49k total, 26 unique, 1.15k QPS, 1.06x concurrency _________
# Time range: 2022-07-09T18:17:45 to 2022-07-09T18:18:57
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time            76s     5us   246ms   921us     2ms     5ms   247us
# Lock time          732ms       0    12ms     8us     4us    85us     3us
# Rows sent          1.52M       0   9.76k   19.31   19.46  380.31    0.99
# Rows examine      10.57M       0  10.05k  134.31   38.53   1.06k    5.75
# Query size        13.89M      10     489  176.53  487.09  130.81   69.19

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0x5D2CFA6F9FBD8D5803685079... 15.8060 20.8% 30079 0.0005  0.00 SELECT comments users
#    2 0x7A12D0C8F433684C3027353C... 14.0739 18.5%   131 0.1074  0.01 SELECT posts
#    3 0xE83DA93257C7B787C67B1B05... 12.6738 16.7%   439 0.0289  0.00 SELECT posts
#    4 0x422390B42D4DD86C7539A5F4... 10.4335 13.7% 30144 0.0003  0.00 SELECT comments
#    5 0x19759A5557089FD5B718D440...  5.8823  7.7%  2711 0.0022  0.00 SELECT posts
#    6 0x0DF1D96EA2D63D829F9C74E8...  5.0143  6.6%  6290 0.0008  0.00 SELECT posts users
#    7 0xC9383ACA6FF14C29E819735F...  4.1072  5.4%   439 0.0094  0.00 SELECT posts
#    8 0x26489ECBE26887E480CA8067...  1.6474  2.2%   422 0.0039  0.00 INSERT users
#    9 0x059D2D910D62480F603E872B...  1.4008  1.8%  2305 0.0006  0.00 SELECT comments users
#   10 0x396201721CD58410E070DA94...  1.2324  1.6%  4171 0.0003  0.00 SELECT users
# MISC 0xMISC                         3.7116  4.9%  5356 0.0007   0.0 <16 ITEMS>

# Query 1: 448.94 QPS, 0.24x concurrency, ID 0x5D2CFA6F9FBD8D5803685079562D8627 at byte 4750979
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         36   30079
# Exec time     20     16s   142us   187ms   525us     1ms     1ms   260us
# Lock time     37   272ms     2us     4ms     9us     4us    51us     3us
# Rows sent      5  86.46k       0       3    2.94    2.90    0.39    2.90
# Rows examine   1 172.91k       0       6    5.89    5.75    0.77    5.75
# Query size    55   7.69M     266     269  268.00  258.32       0  258.32
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #########
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT c.id AS 'id', c.post_id AS 'post_id', c.user_id AS 'user_id', c.comment AS 'comment', c.created_at AS 'created_at', u.account_name AS `u.account_name` FROM `comments` c JOIN `users` u ON c.user_id = u.id WHERE c.post_id = 15219 ORDER BY c.created_at DESC LIMIT 3\G

# Query 2: 2.47 QPS, 0.27x concurrency, ID 0x7A12D0C8F433684C3027353C36CAB572 at byte 12666777
# Scores: V/M = 0.01
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:43
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     131
# Exec time     18     14s    49ms   246ms   107ms   171ms    35ms    95ms
# Lock time      0   534us     3us    28us     4us     3us     2us     3us
# Rows sent     82   1.25M   9.75k   9.76k   9.75k   9.33k       0   9.33k
# Rows examine  11   1.25M   9.75k   9.76k   9.75k   9.33k       0   9.33k
# Query size     0  18.17k     142     142     142     142       0     142
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  #########################################################
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `created_at` <= '2016-01-02T11:46:28+09:00' ORDER BY `created_at` DESC\G

# Query 3: 7.32 QPS, 0.21x concurrency, ID 0xE83DA93257C7B787C67B1B05D2469241 at byte 13592651
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     439
# Exec time     16     13s     7ms    90ms    29ms    48ms    12ms    26ms
# Lock time      0     2ms     2us   244us     4us     3us    11us     3us
# Rows sent      0   4.38k       2      22   10.21   15.25    3.10    9.83
# Rows examine  40   4.25M   9.77k  10.05k   9.91k   9.80k  131.06   9.80k
# Query size     0  48.83k     113     114  113.91  112.70       0  112.70
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `user_id` = 661 ORDER BY `created_at` DESC\G

# Query 4: 449.91 QPS, 0.16x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 15429965
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         36   30144
# Exec time     13     10s   112us    17ms   346us   972us   547us   176us
# Lock time     40   298ms     2us    12ms     9us     3us   117us     3us
# Rows sent      1  29.44k       1       1       1       1       0       1
# Rows examine   2 288.90k       0      23    9.81   14.52    3.33    9.83
# Query size    13   1.87M      63      66   65.00   62.76    0.42   62.76
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 6183\G

# Query 5: 45.18 QPS, 0.10x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 1795693
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3    2711
# Exec time      7      6s    99us    32ms     2ms     7ms     3ms     1ms
# Lock time      3    23ms     2us     7ms     8us     3us   129us     3us
# Rows sent      0   2.65k       1       1       1       1       0       1
# Rows examine   0   2.65k       1       1       1       1       0       1
# Query size     0 103.33k      36      40   39.03   38.53    0.52   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ############################################################
#   1ms  ################################################################
#  10ms  ###
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 901\G

# Query 6: 104.83 QPS, 0.08x concurrency, ID 0x0DF1D96EA2D63D829F9C74E83E5DB087 at byte 18848846
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          7    6290
# Exec time      6      5s   240us    35ms   797us     3ms     1ms   403us
# Lock time      7    58ms     2us     3ms     9us     4us    82us     3us
# Rows sent      7 122.85k      20      20      20      20       0      20
# Rows examine   2 246.35k      40      44   40.11   38.53    0.56   38.53
# Query size    21   2.93M     489     489     489     489       0     489
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `posts`.`id` AS id, `posts`.`user_id` AS user_id, `posts`.`body` AS body, `posts`.`mime` AS mime, `posts`.`created_at` AS created_at, `users`.`id` AS 'u.id', `users`.`account_name` AS 'u.account_name', `users`.`passhash` AS 'u.passhash', `users`.`authority` AS 'u.authority', `users`.`del_flg` AS 'u.del_flg', `users`.`created_at` AS 'u.created_at' FROM `posts` JOIN `users` ON `posts`.`user_id` = `users`.`id` WHERE `users`.`del_flg` = 0 ORDER BY `posts`.`created_at` DESC LIMIT 20\G

# Query 7: 7.32 QPS, 0.07x concurrency, ID 0xC9383ACA6FF14C29E819735F00B6DBDF at byte 19099747
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     439
# Exec time      5      4s     2ms    40ms     9ms    22ms     6ms     7ms
# Lock time      0     2ms     2us    16us     3us     3us       0     2us
# Rows sent      0   4.38k       2      22   10.21   15.25    3.10    9.83
# Rows examine  40   4.24M   9.77k  10.04k   9.90k   9.80k  138.50   9.80k
# Query size     0  19.68k      45      46   45.91   44.60       0   44.60
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  #################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id` FROM `posts` WHERE `user_id` = 355\G

# Query 8: 7.03 QPS, 0.03x concurrency, ID 0x26489ECBE26887E480CA8067F971EA04 at byte 4713031
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     422
# Exec time      2      2s     1ms    19ms     4ms     8ms     2ms     3ms
# Lock time      0     2ms     2us   117us     4us     3us     7us     2us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     0  89.02k     216     216     216     216       0     216
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
INSERT INTO `users` (`account_name`, `passhash`) VALUES ('E1j0j1cmMeejAkdsY4lOm6IuP','7339a62216b1d2044b4283c9c473578cca2c1871ac16238ee5b9057ce0b96fb4bea9b8a2a7f4821c7904b8954cc94eaff53a92b89cbdfc7380570e5ed0102759')\G

# Query 9: 38.42 QPS, 0.02x concurrency, ID 0x059D2D910D62480F603E872BC7749891 at byte 1796205
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2    2305
# Exec time      1      1s   173us    31ms   607us     2ms     1ms   348us
# Lock time      2    19ms     3us     2ms     8us     4us    59us     3us
# Rows sent      1  20.00k       0      21    8.89   14.52    4.34    8.91
# Rows examine   0  40.01k       0      42   17.77   28.75    8.63   17.65
# Query size     4 585.31k     257     261  260.02  258.32    1.22  258.32
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT c.id AS 'id', c.post_id AS 'post_id', c.user_id AS 'user_id', c.comment AS 'comment', c.created_at AS 'created_at', u.account_name AS `u.account_name` FROM `comments` c JOIN `users` u ON c.user_id = u.id WHERE c.post_id = 5164 ORDER BY c.created_at DESC\G

# Query 10: 69.52 QPS, 0.02x concurrency, ID 0x396201721CD58410E070DA9421CA8C8D at byte 41417
# Scores: V/M = 0.00
# Time range: 2022-07-09T18:17:50 to 2022-07-09T18:18:50
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5    4171
# Exec time      1      1s    95us    23ms   295us   761us   734us   138us
# Lock time      3    28ms     2us     2ms     6us     4us    51us     3us
# Rows sent      0   4.07k       1       1       1       1       0       1
# Rows examine   0   4.07k       1       1       1       1       0       1
# Query size     1 154.87k      37      39   38.02   38.53    0.55   36.69
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `users` WHERE `id` = 552\G
