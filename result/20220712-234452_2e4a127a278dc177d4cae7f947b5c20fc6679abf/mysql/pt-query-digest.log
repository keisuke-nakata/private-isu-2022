
# 30.3s user time, 170ms system time, 30.69M rss, 37.76M vsz
# Current date: Tue Jul 12 23:46:48 2022
# Hostname: ip-172-31-43-134
# Files: /var/log/mysql/mysql-slow.log
# Overall: 183.98k total, 26 unique, 1.79k QPS, 3.15x concurrency ________
# Time range: 2022-07-12T14:44:52 to 2022-07-12T14:46:35
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           324s     3us   493ms     2ms     6ms     5ms   332us
# Lock time             3s       0    10ms    17us     4us   156us     3us
# Rows sent        890.28k       0   9.76k    4.96    9.83  140.86    0.99
# Rows examine      10.46M       0  10.12k   59.62   38.53  699.39    5.75
# Query size        30.24M      10     489  172.36  258.32  117.40   69.19

# Profile
# Rank Query ID                      Response time  Calls R/Call V/M   Ite
# ==== ============================= ============== ===== ====== ===== ===
#    1 0x5D2CFA6F9FBD8D5803685079... 154.1293 47.5% 78844 0.0020  0.00 SELECT comments users
#    2 0x422390B42D4DD86C7539A5F4... 107.5173 33.1% 78858 0.0014  0.00 SELECT comments
#    3 0xE83DA93257C7B787C67B1B05...  18.9317  5.8%   435 0.0435  0.01 SELECT posts
#    4 0x0DF1D96EA2D63D829F9C74E8...   9.1760  2.8%  7798 0.0012  0.01 SELECT posts users
#    5 0x19759A5557089FD5B718D440...   8.6384  2.7%  2923 0.0030  0.01 SELECT posts
#    6 0x7A12D0C8F433684C3027353C...   6.5172  2.0%    40 0.1629  0.05 SELECT posts
#    7 0xC9383ACA6FF14C29E819735F...   6.4910  2.0%   435 0.0149  0.01 SELECT posts
# MISC 0xMISC                         13.0606  4.0% 14644 0.0009   0.0 <19 ITEMS>

# Query 1: 804.53 QPS, 1.57x concurrency, ID 0x5D2CFA6F9FBD8D5803685079562D8627 at byte 19805745
# Scores: V/M = 0.00
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:46:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         42   78844
# Exec time     47    154s   140us   198ms     2ms     7ms     3ms   384us
# Lock time     52      2s     2us    10ms    21us     4us   180us     3us
# Rows sent     25 228.43k       0       3    2.97    2.90    0.29    2.90
# Rows examine   4 456.86k       0       6    5.93    5.75    0.58    5.75
# Query size    66  20.14M     265     269  267.87  258.32       0  258.32
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###########################################
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT c.id AS 'id', c.post_id AS 'post_id', c.user_id AS 'user_id', c.comment AS 'comment', c.created_at AS 'created_at', u.account_name AS `u.account_name` FROM `comments` c JOIN `users` u ON c.user_id = u.id WHERE c.post_id = 6510 ORDER BY c.created_at DESC LIMIT 3\G

# Query 2: 804.67 QPS, 1.10x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 19796264
# Scores: V/M = 0.00
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:46:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         42   78858
# Exec time     33    108s   102us    51ms     1ms     5ms     2ms   224us
# Lock time     38      1s     2us     9ms    15us     3us   139us     2us
# Rows sent      8  77.01k       1       1       1       1       0       1
# Rows examine   7 761.82k       0      23    9.89   15.25    3.22    9.83
# Query size    16   4.88M      62      66   64.87   62.76    0.32   62.76
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 6832\G

# Query 3: 7.25 QPS, 0.32x concurrency, ID 0xE83DA93257C7B787C67B1B05D2469241 at byte 29235169
# Scores: V/M = 0.01
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:45:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     435
# Exec time      5     19s     9ms   173ms    44ms    82ms    23ms    38ms
# Lock time      0     7ms     2us     4ms    15us     4us   171us     3us
# Rows sent      0   4.35k       2      19   10.23   14.52    2.86    9.83
# Rows examine  40   4.23M   9.77k  10.12k   9.95k   9.80k  113.24   9.80k
# Query size     0  48.39k     113     114  113.91  112.70       0  112.70
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #
#  10ms  ################################################################
# 100ms  ##
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `user_id` = 504 ORDER BY `created_at` DESC\G

# Query 4: 129.97 QPS, 0.15x concurrency, ID 0x0DF1D96EA2D63D829F9C74E83E5DB087 at byte 19804355
# Scores: V/M = 0.01
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:45:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4    7798
# Exec time      2      9s   218us   195ms     1ms     4ms     4ms   445us
# Lock time      2    87ms     2us     4ms    11us     4us    93us     3us
# Rows sent     17 152.30k      20      20      20      20       0      20
# Rows examine   2 305.23k      40      44   40.08   38.53    0.49   38.53
# Query size    12   3.64M     489     489     489     489       0     489
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ################
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `posts`.`id` AS id, `posts`.`user_id` AS user_id, `posts`.`body` AS body, `posts`.`mime` AS mime, `posts`.`created_at` AS created_at, `users`.`id` AS 'u.id', `users`.`account_name` AS 'u.account_name', `users`.`passhash` AS 'u.passhash', `users`.`authority` AS 'u.authority', `users`.`del_flg` AS 'u.del_flg', `users`.`created_at` AS 'u.created_at' FROM `posts` JOIN `users` ON `posts`.`user_id` = `users`.`id` WHERE `users`.`del_flg` = 0 ORDER BY `posts`.`created_at` DESC LIMIT 20\G

# Query 5: 48.72 QPS, 0.14x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 19801507
# Scores: V/M = 0.01
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:45:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    2923
# Exec time      2      9s    95us   196ms     3ms     9ms     6ms     2ms
# Lock time      0    27ms     2us     3ms     9us     4us    76us     3us
# Rows sent      0   2.85k       1       1       1       1       0       1
# Rows examine   0   2.85k       1       1       1       1       0       1
# Query size     0 111.50k      36      40   39.06   38.53    0.51   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  #
# 100us  ###############################################
#   1ms  ################################################################
#  10ms  ####
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 16398\G

# Query 6: 0.69 QPS, 0.11x concurrency, ID 0x7A12D0C8F433684C3027353C36CAB572 at byte 29356590
# Scores: V/M = 0.05
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:45:55
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      40
# Exec time      2      7s    48ms   493ms   163ms   253ms    91ms   145ms
# Lock time      0   224us     3us    42us     5us    17us     6us     3us
# Rows sent     43 390.06k   9.75k   9.76k   9.75k   9.33k       0   9.33k
# Rows examine   3 390.06k   9.75k   9.76k   9.75k   9.33k       0   9.33k
# Query size     0   5.55k     142     142     142     142       0     142
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  #####################
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `created_at` <= '2016-01-02T11:46:21+09:00' ORDER BY `created_at` DESC\G

# Query 7: 7.25 QPS, 0.11x concurrency, ID 0xC9383ACA6FF14C29E819735F00B6DBDF at byte 23847510
# Scores: V/M = 0.01
# Time range: 2022-07-12T14:44:57 to 2022-07-12T14:45:57
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     435
# Exec time      2      6s     2ms    75ms    15ms    34ms    10ms    12ms
# Lock time      0     5ms     2us     1ms    11us     4us    67us     3us
# Rows sent      0   4.35k       2      19   10.23   14.52    2.86    9.83
# Rows examine  40   4.22M   9.77k  10.11k   9.94k   9.80k  136.46   9.80k
# Query size     0  19.50k      45      46   45.91   44.60       0   44.60
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #####################################
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id` FROM `posts` WHERE `user_id` = 266\G
