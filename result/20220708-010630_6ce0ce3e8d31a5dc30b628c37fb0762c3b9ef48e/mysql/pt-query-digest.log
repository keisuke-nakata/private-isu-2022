
# 16.9s user time, 120ms system time, 30.79M rss, 37.76M vsz
# Current date: Fri Jul  8 01:08:12 2022
# Hostname: ip-172-31-43-134
# Files: /var/log/mysql/mysql-slow.log
# Overall: 121.18k total, 26 unique, 1.36k QPS, 1.48x concurrency ________
# Time range: 2022-07-07T16:06:30 to 2022-07-07T16:07:59
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           131s     4us   147ms     1ms     4ms     2ms   301us
# Lock time             2s       0    15ms    18us     4us   165us     3us
# Rows sent        368.93k       0   9.75k    3.12    2.90   82.35    0.99
# Rows examine       5.78M       0   9.85k   50.04   15.25  630.73    5.75
# Query size        26.87M      10     453  232.54  400.73  168.95  124.25

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0x58CDBEF53804905081DDA03B... 70.9890 54.0% 56752 0.0013  0.00 SELECT comments users
#    2 0x422390B42D4DD86C7539A5F4... 43.9046 33.4% 55271 0.0008  0.00 SELECT comments
#    3 0xE83DA93257C7B787C67B1B05...  5.7057  4.3%   245 0.0233  0.00 SELECT posts
#    4 0x19759A5557089FD5B718D440...  3.8820  3.0%  2023 0.0019  0.00 SELECT posts
#    5 0xC9383ACA6FF14C29E819735F...  2.0080  1.5%   245 0.0082  0.00 SELECT posts
# MISC 0xMISC                         4.9126  3.7%  6641 0.0007   0.0 <21 ITEMS>

# Query 1: 675.62 QPS, 0.85x concurrency, ID 0x58CDBEF53804905081DDA03BEE24EFEE at byte 12195419
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:06:35 to 2022-07-07T16:07:59
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         46   56752
# Exec time     54     71s   159us   128ms     1ms     4ms     2ms   366us
# Lock time     50      1s     2us     9ms    19us     4us   165us     3us
# Rows sent     44 165.67k       0       3    2.99    2.90    0.16    2.90
# Rows examine   5 331.34k       0       6    5.98    5.75    0.31    5.75
# Query size    80  21.70M     398     402  400.89  400.73       2  400.73
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###########################
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT c.id AS id, c.post_id AS post_id, c.user_id AS user_id, c.comment AS comment, c.created_at AS created_at, u.id AS user_user_id, u.account_name AS user_account_name, u.passhash AS user_passhash, u.authority AS user_authority, u.del_flg AS user_del_flg, u.created_at AS user_created_at FROM `comments` c JOIN `users` u ON c.user_id = u.id WHERE c.post_id = 5524 ORDER BY c.created_at DESC LIMIT 3\G

# Query 2: 657.99 QPS, 0.52x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 2226412
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:06:35 to 2022-07-07T16:07:59
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         45   55271
# Exec time     33     44s   104us    29ms   794us     3ms     1ms   204us
# Lock time     45      1s     2us    15ms    18us     4us   168us     3us
# Rows sent     14  53.98k       1       1       1       1       0       1
# Rows examine   9 538.27k       0      23    9.97   14.52    3.13    9.83
# Query size    12   3.42M      62      66   64.89   62.76    0.18   62.76
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ##################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 4968\G

# Query 3: 7 QPS, 0.16x concurrency, ID 0xE83DA93257C7B787C67B1B05D2469241 at byte 13799299
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:06:35 to 2022-07-07T16:07:10
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     245
# Exec time      4      6s     8ms    92ms    23ms    40ms    10ms    21ms
# Lock time      0     1ms     2us    88us     4us     3us     5us     3us
# Rows sent      0   2.38k       3      21    9.93   14.52    2.98    9.83
# Rows examine  40   2.35M   9.77k   9.85k   9.81k   9.80k      40   9.80k
# Query size     0  27.25k     113     114  113.90  112.70       0  112.70
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ##
#  10ms  ################################################################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `user_id` = 574 ORDER BY `created_at` DESC\G

# Query 4: 57.80 QPS, 0.11x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 6398780
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:06:35 to 2022-07-07T16:07:10
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    2023
# Exec time      2      4s   107us    25ms     2ms     6ms     2ms   839us
# Lock time      0    16ms     2us     2ms     7us     4us    48us     3us
# Rows sent      0   1.98k       1       1       1       1       0       1
# Rows examine   0   1.98k       1       1       1       1       0       1
# Query size     0  76.94k      37      40   38.94   38.53    0.52   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###########################################################
#  10ms  ##
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 3294\G

# Query 5: 7 QPS, 0.06x concurrency, ID 0xC9383ACA6FF14C29E819735F00B6DBDF at byte 13788778
# Scores: V/M = 0.00
# Time range: 2022-07-07T16:06:35 to 2022-07-07T16:07:10
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     245
# Exec time      1      2s     2ms    32ms     8ms    17ms     5ms     7ms
# Lock time      0     1ms     2us    93us     4us     4us     6us     3us
# Rows sent      0   2.38k       3      21    9.93   14.52    2.98    9.83
# Rows examine  40   2.35M   9.77k   9.84k   9.80k   9.80k      37   9.80k
# Query size     0  10.98k      45      46   45.90   44.60       0   44.60
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ##########################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id` FROM `posts` WHERE `user_id` = 562\G
