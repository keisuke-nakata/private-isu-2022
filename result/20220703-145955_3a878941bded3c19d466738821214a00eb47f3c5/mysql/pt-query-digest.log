
# 22s user time, 130ms system time, 49.39M rss, 56.63M vsz
# Current date: Sun Jul  3 15:01:37 2022
# Hostname: ip-172-31-43-134
# Files: /var/log/mysql/mysql-slow.log
# Overall: 220.25k total, 30 unique, 3.24k QPS, 2.36x concurrency ________
# Time range: 2022-07-03T05:59:55 to 2022-07-03T06:01:03
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           161s     1us   396ms   728us     1ms     9ms    76us
# Lock time          723ms       0    19ms     3us     3us    81us       0
# Rows sent          5.11M       0   9.80k   24.31    0.99  469.00       0
# Rows examine      21.82M       0  97.69k  103.90    8.91   2.30k       0
# Query size        29.57M      10   1.26M  140.79   80.10   9.66k   31.70

# Profile
# Rank Query ID                      Response time Calls R/Call V/M   Item
# ==== ============================= ============= ===== ====== ===== ====
#    1 0x4858CF4D8CAA743E839C127C... 62.7178 39.1%   432 0.1452  0.03 SELECT posts
#    2 0x7A12D0C8F433684C3027353C... 16.7286 10.4%    95 0.1761  0.04 SELECT posts
#    3 0xCDEB1AFF2AE2BE51B2ED5CF0... 16.0085 10.0%   101 0.1585  0.03 SELECT comments
#    4 0xDA556F9115773A1A99AA0165... 15.9208  9.9% 71138 0.0002  0.02 ADMIN PREPARE
#    5 0x396201721CD58410E070DA94... 13.4507  8.4% 36605 0.0004  0.00 SELECT users
#    6 0x19759A5557089FD5B718D440... 11.6704  7.3%  8521 0.0014  0.00 SELECT posts
#    7 0x624863D30DAC59FA16849282...  6.4626  4.0% 11812 0.0005  0.00 SELECT comments
#    8 0x422390B42D4DD86C7539A5F4...  5.1565  3.2% 12471 0.0004  0.00 SELECT comments
#    9 0xE83DA93257C7B787C67B1B05...  4.5868  2.9%   101 0.0454  0.01 SELECT posts
# MISC 0xMISC                         7.8071  4.9% 78970 0.0001   0.0 <21 ITEMS>

# Query 1: 6.86 QPS, 1.00x concurrency, ID 0x4858CF4D8CAA743E839C127C71B69E75 at byte 53700096
# Scores: V/M = 0.03
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:02
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     432
# Exec time     39     63s    23ms   319ms   145ms   253ms    65ms   141ms
# Lock time      0     5ms     2us     2ms    10us     4us    95us     3us
# Rows sent     80   4.13M   9.77k   9.80k   9.78k   9.80k      18   9.33k
# Rows examine  37   8.25M  19.53k  19.60k  19.57k  19.40k       0  19.40k
# Query size     0  38.81k      92      92      92      92       0      92
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  #######################
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` ORDER BY `created_at` DESC\G

# Query 2: 1.56 QPS, 0.27x concurrency, ID 0x7A12D0C8F433684C3027353C36CAB572 at byte 14174845
# Scores: V/M = 0.04
# Time range: 2022-07-03T06:00:02 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0      95
# Exec time     10     17s    37ms   396ms   176ms   308ms    83ms   163ms
# Lock time      0   486us     2us   135us     5us     4us    13us     2us
# Rows sent     17 919.91k   9.57k   9.76k   9.68k   9.33k       0   9.33k
# Rows examine   8   1.81M  19.37k  19.55k  19.47k  19.40k      90  19.40k
# Query size     0  13.17k     142     142     142     142       0     142
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  #################
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `created_at` <= '2016-01-02T11:44:05+09:00' ORDER BY `created_at` DESC\G

# Query 3: 1.63 QPS, 0.26x concurrency, ID 0xCDEB1AFF2AE2BE51B2ED5CF03D4E749F at byte 22836576
# Scores: V/M = 0.03
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     101
# Exec time      9     16s    18ms   367ms   158ms   266ms    67ms   148ms
# Lock time      0   379us     2us    26us     3us     3us     2us     3us
# Rows sent      0     101       1       1       1       1       0       1
# Rows examine  44   9.63M  97.66k  97.69k  97.67k  97.04k       0  97.04k
# Query size     0   6.11k      61      62   61.93   59.77       0   59.77
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms  ###############
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS count FROM `comments` WHERE `user_id` = 426\G

# Query 4: 1.11k QPS, 0.25x concurrency, ID 0xDA556F9115773A1A99AA0165670CE848 at byte 10442458
# Scores: V/M = 0.02
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         32   71138
# Exec time      9     16s    39us   305ms   223us   761us     2ms    76us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     6   2.04M      30      30      30      30       0      30
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###################
#   1ms  ###
#  10ms  #
# 100ms  #
#    1s
#  10s+
administrator command: Prepare\G

# Query 5: 571.95 QPS, 0.21x concurrency, ID 0x396201721CD58410E070DA9421CA8C8D at byte 58335847
# Scores: V/M = 0.00
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         16   36605
# Exec time      8     13s    66us    39ms   367us     1ms     1ms   113us
# Lock time     51   372ms     2us     9ms    10us     4us   121us     2us
# Rows sent      0  35.75k       1       1       1       1       0       1
# Rows examine   0  35.75k       1       1       1       1       0       1
# Query size     4   1.32M      36      39   37.90   36.69    0.17   36.69
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  ###########
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'users'\G
#    SHOW CREATE TABLE `isuconp`.`users`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `users` WHERE `id` = 892\G

# Query 6: 133.14 QPS, 0.18x concurrency, ID 0x19759A5557089FD5B718D440CBBB5C55 at byte 26411804
# Scores: V/M = 0.00
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          3    8521
# Exec time      7     12s   132us    39ms     1ms     6ms     2ms   403us
# Lock time      9    71ms     2us     3ms     8us     4us    83us     3us
# Rows sent      0   8.32k       1       1       1       1       0       1
# Rows examine   0   8.32k       1       1       1       1       0       1
# Query size     1 327.69k      37      40   39.38   38.53    0.27   38.53
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  #################################
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `posts` WHERE `id` = 6270\G

# Query 7: 184.56 QPS, 0.10x concurrency, ID 0x624863D30DAC59FA16849282195BE09F at byte 19545148
# Scores: V/M = 0.00
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   11812
# Exec time      4      6s    89us    37ms   547us     2ms     1ms   194us
# Lock time     15   112ms     2us     7ms     9us     4us   116us     2us
# Rows sent      0  17.04k       0       3    1.48    2.90    1.44    0.99
# Rows examine   0  73.29k       0      23    6.35   16.81    6.63    1.96
# Query size     3 951.93k      79      83   82.52   80.10    0.12   80.10
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM `comments` WHERE `post_id` = 9994 ORDER BY `created_at` DESC LIMIT 3\G

# Query 8: 194.86 QPS, 0.08x concurrency, ID 0x422390B42D4DD86C7539A5F45EB76A80 at byte 74557244
# Scores: V/M = 0.00
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:03
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   12471
# Exec time      3      5s    87us    37ms   413us     1ms     1ms   152us
# Lock time     17   128ms     2us    13ms    10us     4us   154us     2us
# Rows sent      0  12.18k       1       1       1       1       0       1
# Rows examine   0  62.28k       0      20    5.11   13.83    5.32    4.96
# Query size     2 797.64k      62      66   65.49   65.89    1.57   65.89
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'comments'\G
#    SHOW CREATE TABLE `isuconp`.`comments`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS `count` FROM `comments` WHERE `post_id` = 10083\G

# Query 9: 1.63 QPS, 0.07x concurrency, ID 0xE83DA93257C7B787C67B1B05D2469241 at byte 62983236
# Scores: V/M = 0.01
# Time range: 2022-07-03T05:59:59 to 2022-07-03T06:01:01
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     101
# Exec time      2      5s     6ms   118ms    45ms    78ms    23ms    42ms
# Lock time      0   425us     3us    51us     4us     4us     4us     2us
# Rows sent      0     995       2      21    9.85   14.52    3.25    9.83
# Rows examine   4 988.86k   9.77k   9.81k   9.79k   9.80k      21   9.33k
# Query size     0  11.24k     113     114  113.93  112.70       0  112.70
# String:
# Databases    isuconp
# Hosts        localhost
# Users        isuconp
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  #
#  10ms  ################################################################
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isuconp` LIKE 'posts'\G
#    SHOW CREATE TABLE `isuconp`.`posts`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `id`, `user_id`, `body`, `mime`, `created_at` FROM `posts` WHERE `user_id` = 671 ORDER BY `created_at` DESC\G
